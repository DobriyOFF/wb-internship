(()=>{"use strict";const e=({timing:e,draw:t,duration:l})=>{let n=performance.now();requestAnimationFrame((function o(d){let r=(d-n)/l;r>1&&(r=1);let c=e(r);t(c),r<1&&requestAnimationFrame(o)}))};(()=>{const e=document.getElementById("paymentPermanent"),t=document.querySelector(".payment__permanent-label"),l=document.querySelector(".total__order-btn"),n=document.querySelector(".total-head-price"),o=document.querySelector(".basket__total-currency");t.addEventListener("click",(()=>{e.checked=!1!==e.checked,t.style.color="black",!1===e.checked?l.textContent="Оплатить "+n.textContent+" "+o.textContent:l.textContent="Заказать"}))})(),(()=>{const e=document.querySelectorAll(".recipient__hints"),t=document.querySelectorAll(".total__order-btn"),l=document.querySelector(".recipient__form-name"),n=document.querySelector(".recipient__form-surname"),o=document.querySelector(".recipient__form-email"),d=document.querySelector(".recipient__form-phone"),r=document.querySelector(".recipient__form-inn"),c=document.getElementById("nameError"),i=document.getElementById("surnameError"),s=document.getElementById("emailError"),a=document.getElementById("telError"),u=document.getElementById("innError"),h=document.querySelector(".payment__permanent-label"),m=document.getElementById("paymentPermanent"),y=document.querySelector(".recipient__hints-tel");t.forEach((e=>{e.addEventListener("click",(()=>{""===l.value&&""===n.value&&""===o.value&&""===r.value&&(c.style.display="inline-block",c.textContent="Укажите имя",l.style.color="#F55123",l.style.borderColor="#F55123",i.style.display="inline-block",i.textContent="Укажите фамилию",n.style.color="#F55123",n.style.borderColor="#F55123",s.style.display="inline-block",s.textContent="Укажите электронную почту",o.style.color="#F55123",o.style.borderColor="#F55123",a.style.display="inline-block",a.textContent="Укажите номер телефона",d.style.color="#F55123",d.style.borderColor="#F55123",u.style.display="inline-block",u.textContent="Укажите индекс",r.style.color="#F55123",r.style.borderColor="#F55123",m.checked||(h.style.color="#F55123"))}))}));let C=0;d.addEventListener("input",(e=>{let t=e.target;if((3===t.value.length||7===t.value.length||11===t.value.length||14===t.value.length)&&t.value.length>C){const e=t.value.charAt(t.value.length-1);t.value=t.value.slice(0,t.value.length-1),t.value+=" ",t.value+=e}" "===t.value.charAt(t.value.length-1)&&t.value.length<C&&(t.value=t.value.slice(0,t.value.length-1)),C=t.value.length})),e.forEach((e=>{e.addEventListener("mouseout",(()=>{e.firstElementChild.matches(".recipient__form-name")?/[^А-ЯЁа-яё\s\-]/.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",c.textContent=" ",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"):e.firstElementChild.matches(".recipient__form-surname")?/[^А-ЯЁа-яё\s\-]/.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",i.textContent=" ",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"):e.firstElementChild.matches(".recipient__form-email")?/[^\w\-@.!~*']/gi.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",s.textContent="Проверьте адрес электронной почты",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="none",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"):e.firstElementChild.matches(".recipient__form-phone")?/^[\+]\d{1}[- ]?[\(]?\d{3}[\)]?[- ]?\d{3}[\- ]?\d{2}[\- ]?\d{2}$/.exec(e.firstElementChild.value)||""===e.firstElementChild.value?(e.lastElementChild.style.display="none",y.style.display="inline-block",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"):(e.lastElementChild.style.display="inline-block",y.style.display="inline-block",e.lastElementChild.textContent="Формат: +9 999 999 99 99",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):e.firstElementChild.matches(".recipient__form-inn")&&(/[^\d\(\)\-]/gi.exec(e.firstElementChild.value)?(e.lastElementChild.style.display="inline-block",e.lastElementChild.textContent="Формат: 1234567",e.lastElementChild.style.color="#F55123",e.firstElementChild.style.color="#F55123",e.firstElementChild.style.borderColor="#F55123"):(e.lastElementChild.style.display="inline-block",e.lastElementChild.textContent="Для таможенного оформления",e.lastElementChild.style.color="black",e.firstElementChild.style.color="#A0A0A4",e.firstElementChild.style.borderColor="rgba(0, 0, 0, 0.2)"))}))}))})(),document.querySelectorAll(".item__product").forEach((e=>{let t,l,n,o,d,r,c,i,s,a,u,h,m,y;null!=e.children[3]&&(l=e.children[3].children[0].children[0]),null!=e.children[3]&&(n=e.children[3].children[0].children[1]),null!=e.children[3]&&(o=e.children[3].children[0].children[2]),null!=e.children[4]&&null!=e.children[4].children[0].children[0].textContent&&(d=e.children[4].children[0].children[0]),null!=e.children[4]&&null!=e.children[4].children[1].children[0].textContent&&(i=e.children[4].children[1].children[0]),null!=e.children[4]&&null!=e.children[4].children[0].children[0].textContent&&(a=e.children[4].children[2].children[0].children[1].children[0]),null!=e.children[4]&&null!=e.children[4].children[0].children[0].textContent&&(h=e.children[4].children[2].children[1].children[1].children[0]),null!=e.children[2]&&null!=e.children[2].children[0]&&null!=e.children[2].children[0].children[0]&&(y=e.children[2].children[0].children[0]),null!=e.children[3]&&(r=e.children[3].children[0].querySelector(".product__pieces-left")),null!=e.children[3]&&(c=e.children[3].children[0].querySelector(".product__pieces-left")),null!=d&&(t=Math.round(d.textContent/+l.value),s=Math.round(d.textContent/+l.value*.65),u=Math.round(d.textContent/+l.value*.55),m=Math.round(d.textContent/+l.value*.1),d.textContent=d.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),y.textContent=d.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),i.textContent=+l.value*s,i.textContent=i.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),a.textContent=+l.value*u,a.textContent=a.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),h.textContent=+l.value*m,h.textContent=h.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),c=null!=c?+l.value+ +c.textContent:300,o.addEventListener("click",(()=>{l.value<c&&(d.textContent=d.textContent.replace(/ /g,""),i.textContent=d.textContent.replace(/ /g,""),0==l.value?(d.textContent=t,y.textContent=t,i.textContent=s):(d.textContent=+d.textContent+ +t,i.textContent=s*(+l.value+1),i.textContent=i.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),a.textContent=u*(+l.value+1),a.textContent=a.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),h.textContent=m*(+l.value+1),h.textContent=h.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),d.textContent=d.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),y.textContent=d.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")),l.value=+l.value+1,null!=r&&(r.textContent-=1))})),n.addEventListener("click",(()=>{l.value>0&&(d.textContent=d.textContent.replace(/ /g,""),i.textContent=d.textContent.replace(/ /g,""),l.value=+l.value-1,l.value<1?(d.textContent="0",y.textContent="0",i.textContent="0"):(d.textContent=+d.textContent-t,d.textContent=d.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),y.textContent=d.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),i.textContent=+s*+l.value,i.textContent=i.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),a.textContent=+u*+l.value,a.textContent=a.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),h.textContent=+m*+l.value,h.textContent=h.textContent.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")),null!=r&&(r.textContent=+r.textContent+1))})))})),(()=>{const t=document.getElementById("totalPrice"),l=document.getElementById("totalPriceMobile"),n=document.querySelectorAll(".product__wrapper"),o=document.querySelector(".total__item-price"),d=document.getElementById("totalItemPriceMobile"),r=document.querySelectorAll(".product__price-desc-main"),c=document.getElementById("totalDiscount"),i=document.getElementById("totalDiscountMobile");function s(e,t){let l=function(){t(e)},n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(n)new n(l).observe(e,{childList:!0});else if(e.addEventListener)e.addEventListener("DOMNodeInserted",l,!1);else{let t=e.innerHTML;setInterval((function(){t!=e.innerHTML&&(t=e.innerHTML,l())}),300)}}let a=1;n.forEach((e=>{e.firstElementChild.id="count"+a,a++}));let u=()=>{let r,c,i=0;for(let e of n)i+=+e.firstElementChild.textContent.replace(/ /g,""),r=+i-+e.firstElementChild.textContent.replace(/ /g,"");i=String(i),t.textContent=i.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),o.textContent=t.textContent,c=Number(t.textContent.replace(/ /g,"")),e({duration:400,timing:e=>e,draw(e){t.textContent=(r+Math.round((c-r)*e)).toLocaleString(),l.textContent=(r+Math.round((c-r)*e)).toLocaleString()}}),e({duration:400,timing:e=>e,draw(e){o.textContent=(r+Math.round((c-r)*e)).toLocaleString(),d.textContent=(r+Math.round((c-r)*e)).toLocaleString()}})},h=()=>{let t,l,n=0;for(let e of r)n+=+e.textContent.replace(/ /g,"").match(/\d+/),t=+n-+e.textContent.replace(/ /g,"").match(/\d+/);n=String(n),c.textContent=n.replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 "),l=Number(c.textContent.replace(/ /g,"")),e({duration:400,timing:e=>e,draw(e){c.textContent="-"+(t+Math.round((l-t)*e)).toLocaleString(),i.textContent="-"+(t+Math.round((l-t)*e)).toLocaleString()}})};for(let e of n)s(document.getElementById(e.firstElementChild.id),(function(e){u(),h()}));u(),h()})(),(()=>{let e=document.querySelectorAll(".basket__label-checkbox"),t=document.querySelector(".basket__header-checkbox"),l=document.querySelectorAll(".basket__item");const n=document.querySelectorAll(".basket__btn"),o=document.getElementById("basketListFirst"),d=document.getElementById("basketBtnFirst"),r=document.getElementById("basketListSecond"),c=document.getElementById("basketBtnSecond"),i=document.querySelector(".ui__basket-amount");let s=e.length,a=0;const u=()=>{let e=0;for(let t of l)null!=t.children[0].checked&&t.children[0].checked&&(e+=1);return String(e)};i.textContent=u(),e.forEach((l=>{l.addEventListener("click",(()=>{for(l of e)!0===l.checked&&(a+=1);i.textContent=u(),t.checked=!0===l.checked&&a===s,a=0}))})),t.addEventListener("click",(()=>{e.forEach((e=>{!0===t.checked?(e.checked=t.checked,i.textContent=u()):(e.checked=!1,i.textContent="0")}))})),n.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active")}))})),d.addEventListener("click",(()=>{o.classList.toggle("disable")})),c.addEventListener("click",(()=>{r.classList.toggle("disable")}))})(),(()=>{let e=document.querySelectorAll(".basket__item"),t=document.querySelectorAll(".missing__item"),l=document.querySelectorAll(".basket__label");const n=document.querySelector(".ui__basket-amount"),o=document.querySelector(".total__item-desc");let d=l.length;o.textContent=d,e.forEach((t=>{void 0!==t.childNodes[3]&&t.childNodes[3].childNodes[1].childNodes[7].childNodes[3].childNodes[3].addEventListener("click",(()=>{d-=1,o.textContent-=1,t.children[0].checked=!1,n.textContent=(()=>{let t=0;for(let l of e)null!=l.children[0].checked&&l.children[0].checked&&(t+=1);return String(t)})(),t.childNodes[3].childNodes[1].childNodes[9].childNodes[1].childNodes[1].textContent="0",t.childNodes[3].childNodes[1].childNodes[9].childNodes[3].childNodes[1].textContent="0",t.remove()}))})),t.forEach((e=>{e.childNodes[1].childNodes[5].childNodes[1].childNodes[3].addEventListener("click",(()=>{e.remove()}))}))})(),(()=>{const e=document.querySelectorAll(".info__free"),t=document.querySelectorAll(".tooltip__delivery-info"),l=document.querySelectorAll(".basket__item"),n=document.querySelectorAll(".product__price");e.forEach((e=>{t.forEach((t=>{e.addEventListener("mouseover",(()=>{t.style.display="inline-block"})),e.addEventListener("mouseout",(()=>{t.style.display="none"}))}))})),l.forEach((e=>{if(void 0!==e.childNodes[3]){let t=e.childNodes[3].childNodes[1].childNodes[5].childNodes[9].childNodes[1];t.addEventListener("mouseover",(()=>{e.childNodes[3].childNodes[1].childNodes[5].childNodes[11].style.display="inline-block"})),t.addEventListener("mouseout",(()=>{e.childNodes[3].childNodes[1].childNodes[5].childNodes[11].style.display="none"}))}})),n.forEach((e=>{if(void 0!==e.childNodes[3]){let t=e.childNodes[3];t.addEventListener("mouseover",(()=>{e.childNodes[5].style.display="flex"})),t.addEventListener("mouseout",(()=>{e.childNodes[5].style.display="none"}))}}))})(),(()=>{const e=document.querySelector(".modal__overlay"),t=document.querySelector(".modal__callback"),l=document.querySelector(".modal__overlay-delivery"),n=document.querySelector(".modal__callback-delivery"),o=document.querySelectorAll(".modal__main-wrapper");document.addEventListener("click",(l=>(l=>{(l.target.closest(".paymet__method-btn")||l.target.closest(".total__payment-btn-svg"))&&(l.preventDefault(),t.style.display="block",e.style.display="block"),(l.target.closest(".modal__close-svg")||l.target.closest(".modal__overlay")||l.target.closest(".modal__footer-btn"))&&(t.style.display="none",e.style.display="none")})(l))),document.addEventListener("click",(e=>(e=>{(e.target.closest(".delivery__method-btn")||e.target.closest(".total__delivery-btn-svg"))&&(e.preventDefault(),n.style.display="block",l.style.display="block"),(e.target.closest(".modal__close-svg")||e.target.closest(".modal__overlay-delivery")||e.target.closest(".modal__footer-btn"))&&(n.style.display="none",l.style.display="none")})(e))),o.forEach((e=>{e.lastElementChild.matches(".delivery__form-label")&&e.lastElementChild.lastElementChild.addEventListener("click",(()=>{e.remove()}))}))})(),(()=>{const e=document.querySelector(".recipient__form-name"),t=document.querySelector(".recipient__form-surname"),l=document.querySelector(".recipient__form-email"),n=document.querySelector(".recipient__form-phone"),o=document.querySelector(".recipient__form-inn"),d=document.getElementById("agreeMount"),r=document.querySelector(".recipient__hints-tel");document.addEventListener("click",(c=>(c=>{if((c.target.closest(".total__order-btn")||c.target.closest(".footer__menu"))&&c.target.matches("button")){c.preventDefault();const i=c.target.getAttribute("href");""!==e.value&&""!==t.value&&""!==l.value&&""!==n.value&&""!==o.value&&d.checked||(r.style.display="none",document.querySelector(i).scrollIntoView({behavior:"smooth",block:"start"}))}})(c)))})(),document.querySelectorAll(".terms__card-item"),document.querySelectorAll(".product__features-like").forEach((e=>{e.addEventListener("click",(()=>{"rgb(103, 37, 168)"==e.childNodes[1].childNodes[1].style.fill?e.childNodes[1].childNodes[1].style.fill="black":e.childNodes[1].childNodes[1].style.fill="#6725A8"}))}))})();